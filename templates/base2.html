<html lang="pt-br">
<head>
    {% load static %}
    {% load i18n %}

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Font Raleway-->
    <link rel="stylesheet" href="{% static 'base.css' %}" type="text/css"/>

    <!--Font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

    <!--Floating Labels-->
    <link rel="stylesheet" href="{% static 'resources/float-label-css/float-label.min.css' %}" type="text/css"/>

    <!--JQuery-->
    <script src="{% static 'resources/JQuery/jquery.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'resources/JQuery/popper.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'channel/js/play_add.js' %}"></script>
    <script src="{% static 'channel/js/play_add_id.js' %}"></script>

    <!--Bootstrap Links-->
    <link rel="stylesheet" href="{% static 'resources/bootstrap/css/bootstrap.min.css' %}" type="text/css"/>
    <script src="{% static 'resources/bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'resources/bootstrap/js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>


    <!--Navbar || Sidebar-->
    <link rel="stylesheet" href="{% static 'resources/navbar/navbar.css' %}" type="text/css"/>
    <script src="{% static 'resources/navbar/bootstrap-4.1.0.min.js' %}" type="text/javascript"></script>

    <!--JS da base-->
    <script src="{% static 'base.js' %}"></script>

    {% block head %}
    {% endblock %}
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-light fixed-top">
            <div class="nav-left">
                <button type="button" id="sidebarCollapse" class="navbar-btn active">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <a href="{% url 'home:index' %}" id="logo"><img class="logo" src="/static/resources/icones/logo.png"></a>
            </div>

            <div class="nav-search">
                <center>
                    <div class="navbar-collapse" id="navbarPesquisa">
                        <form class="form-inline">
                            <input class="form-control" type="search" placeholder="Pesquisar">
                            <button class="btn btn-link mb-1" type="submit">
                                <img class="search-icon" src="/static/resources/icones/search.ico" alt="Pesquisar" id="search">
                            </button>
                        </form>
                    </div>
                </center>
            </div>


            <div class="nav-right">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="{% url 'channel:myuploads' %}">
                            <img class="icon-right" src="/static/resources/icones/upload.ico"></a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#"><img class="icon-right" src="/static/resources/icones/disc.ico"></a>
                    </li>
                    <li class="dropdown">
                        <a id="dropdownNotific" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="icon-right" src="/static/resources/icones/notific.ico"></a>
                        <div class="dropdown-menu notific" aria-labelledby="dropdownNotific">
                            <a class="dropdown-item" href="#">Notific 1</a>
                            <a class="dropdown-item" href="#">Notific 2</a>
                            <a class="dropdown-item" href="#">Notific 3</a>
                        </div>
                    </li>
                    <li class="dropdown" id="dpAvatar">
                        <a id="dropdownMenuButton" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            {% if not user.img_perfil %}
                                <img class="img-perfil" src="/static/images/default-user.png"/>
                            {% else %}
                                <img class="img-perfil" src="{{ user.img_perfil.url }}"/>
                            {% endif %}
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="dpAccount">
                            {% if logado %}
                                <a class="dropdown-item" href="{% url 'account:edit_profile' %}">Editar Perfil</a>
                                <a class="dropdown-item" href="{% url 'account:new_channel' %}">Criar canal</a> <!--Trocar por meus canais dps-->
                                <a class="dropdown-item" href="{% url 'account:sign_out' %}">Sair</a>
                            {% else %}
                                <a class="dropdown-item" href="{% url 'account:sign_in' %}">Entrar</a>
                                <a class="dropdown-item" href="{% url 'account:sign_up' %}">Nova conta</a>
                            {% endif %}
                        </div>
                    </li>
                </ul>
            </div>

    </nav>
     <nav id="sidebar" class="active">
            <div class="sidebar-header">
                <center><h3>x</h3></center>
            </div>
            <ul class="list-unstyled components">
                <li>
                    <a href="{% url 'home:index' %}"><img class="icon-left" src="/static/resources/icones/home.png">Início</a>
                </li>
                <li>
                    <a href="#"><img class="icon-left" src="/static/resources/icones/favorites.png">Favoritos</a>
                </li>
                <li>
                    <a href="#"><img class="icon-left" src="/static/resources/icones/historic.png">Histórico</a>
                    <a href="#pageSubmenu" aria-expanded="true">
                        <img class="icon-left" src="/static/resources/icones/playlists.png">Playlists</a>
                    <ul class="list-unstyled" id="pageSubmenu">
                        <li>
                            <a href="#"><img class="icon-left playlist" src="/static/resources/icones/playlists.png">Playlist 1</a>
                        </li>
                        <li>
                            <a href="#"><img class="icon-left playlist" src="/static/resources/icones/playlists.png">Playlist 2</a>
                        </li>
                        <li>
                            <a href="#"><img class="icon-left playlist" src="/static/resources/icones/playlists.png">Playlist 3</a>
                        </li>
                    </ul>
                </li>
                <li><br/>
                    <a href="#pageSubchannel" aria-expanded="true"><img class="icon-left" src="/static/resources/icones/channel.png">Canais</a>
                    <ul class="list-unstyled" id="pageSubchannel">
                        <li>
                            <a href="#"><img class="icon-left channel" src="/static/images/default-user.png">Canal 1</a>
                        </li>
                        <li>
                            <a href="#"><img class="icon-left channel" src="/static/images/default-user.png">Canal 2</a>
                        </li>
                        <li>
                            <a href="#"><img class="icon-left channel" src="/static/images/default-user.png">Canal 3</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

    <div class="wrapper">
        <div id="content">
            {% block body %}

            {% endblock %}
        </div>
    </div>
    <!--Modal de adicionar áudio a playlists-->
    <div class="modal fade" id="addPlaylist" >
        <div class="modal-dialog modal-sm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Adicionar a...</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <div class="modal-body" id="play_load">
                    {% for playlist in playlists %}
                    <label class="pl-label play_id" value="{{playlist.id}}" url_="{% url 'channel:playlist_add_view' %}">{{playlist.nome}}
                        <input type="checkbox" class="play_id" url_="channel/playlist_add"> <!--Checkbox checked caso o áudio esteja na playlist-->
                        <span class="checkmark"  url_="{% url 'channel:playlist_add_view' %}" aud_atre=""></span>

                    </label><a href="#"><i class="fas fa-trash-alt fas-playlist"></i></a><br><br> <!--Excluir playlist-->
                    {% endfor %}
                    <a href="#" class="play_id" aud="1"></a>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-add" data-toggle="modal" data-dismiss="modal" data-target="#createPlaylist">Criar nova playlist</button>
                </div>
            </div>
        </div>
    </div>
    <!--Alert de adicionar/remover áudio da playlist-->
    <div id="alert-addPlaylist" class="addAudioPl" role="alert"></div>

    <!--Modal de criação de playlists-->
    <div class="modal fade" id="createPlaylist" aud_atre="">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header" style="padding: 1.2rem;">
                    <h4 class="modal-title">Crie sua playlist</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <form id="form_playlist" method="get" action="" aud="">
                    <input type="hidden" id="audio_em_questao" value="">
                    <div class="modal-body" style="padding: 1.2rem;">
                        <label class="has-float-label">
                            <input name="nome" type="text" maxlength="150" placeholder="Nome da playlist"
                                   style="margin-bottom: 1rem;" required=""/>
                            <span class="spanPlaylist">Nome da playlist</span>
                        </label>
                        <span class="spanPlaylist">Visibilidade</span>
                        <select name="visibilidade" class="selectPlaylist">
                            <option selected="selected" value=0>Público</option>
                            <option value=1>Privado</option>
                        </select><br>

                        <!--Caso o usuário tenha canais em sua conta criar esse select-->
                        <span class="spanPlaylist">Associação</span>
                        <a data-toggle="tooltip" data-placement="left" title="Associe esta playlist a um canal" style="float:right;">
                            <i class="fas fa-question-circle fas-playlist"></i>
                        </a>
                        <select class="selectPlaylist" name="canal_atrelado">
                            <option selected="selected">Nenhum</option>
                            {% for canal in canais_para_playlist %}
                            <option>{{canal.nome_canal}}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="modal-footer" style="padding: 1.2rem; margin-bottom: -1rem;">
                        <button class="btn btn-add" type="submit" id="submitChannel">
                            <strong>{% trans 'Criar' %}</strong>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {% if footer %}
        <div class="footer">
            <!--Botão de Salvar e Cancelar-->
            <button class="btn btn-save" type="submit" id="submitForm" name="submitForm" onclick="Submit()">
                <strong class="save-strong">{% trans 'Salvar' %}</strong>
            </button>

            <a class="btn btn-default btn-cancel" href="{% url 'home:index' %}">
                <strong class="mystrong">{% trans 'Cancelar' %}</strong>
            </a>

            <!--Alert de salvar-->
            {% if edited %}
                <div id="alert-save" class="alert alert-success fade alert-dismissible" role="alert">
                    {% trans 'Suas alterações foram salvas' %}
                </div>
            {% endif %}

            <!--Alert de salvar senha-->
            {% if edited_password %}
                <div id="alert-password" class="alert alert-success fade alert-dismissible" role="alert">
                    {% trans 'Sua nova senha foi salva' %}
                </div>
            {% endif %}

            <!--Alert de erro-->
            {% if has_error %}
                <div id="alert-error" class="alert alert-danger fade alert-dismissible" role="alert">
                    {% trans 'Oops, algo está errado!' %}
                </div>
            {% endif %}
        </div>
    {% endif %}
</body>
</html>
